<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover">
    <meta name="theme-color" content="#000000">
    <title>Appearix</title>
    <link rel="stylesheet" href="index.css"></head>
  <body>
    <h1 class="logo">Appearix</h1>
    <p>Video Conferencing Made Easy.</p>
    <h5>Join - or - Create</h5>
    <form id="form">
      <input
        id="username"
        placeholder="Username"
        autocomplete="off"
      />
      <input
        id="id"
        placeholder="Conference ID"
        autocomplete="off"
      />
      <button 
        id="submit" 
        type="submit"
      >
        Appear!
      </button>
    </form>
    <script>
      const idElement = document.getElementById('id');
      idElement.value = Math.random().toString(36).substr(2, 9);

      document.getElementById('form').addEventListener('submit', (e) => {
        e.preventDefault();
        const username = document.getElementById('username').value;
        const id = idElement.value;

        console.log(username, ' appeared in ', id, location);
        
        if (username.length > 0 && id.length > 0) {
          window.location.href = window.location.origin + 'video.html';
        }
      });
    </script>
  </body>
</html>